@using MetalTrade.Domain.Enums
@model MetalTrade.Web.AdminPanel.ViewModels.User.UserViewModel
@{
    ViewBag.Title = "Создание нового поставщика";
}

<div class="container">
    <div class="mx-auto mt-4 col-6 text-center row justify-content-center">
        
        <h3 class="mb-3">Создание нового поставщика</h3>
        <form method="post" asp-controller="User" asp-action="CreateUser" enctype="multipart/form-data">
            <div class="my-2">
                <input asp-for="UserName" placeholder="Логин" class="bg-body-secondary rounded text-center"/>
                <br/><span asp-validation-for="UserName" class="text-danger"></span>
            </div>
            
            <div class="my-2">
                <input asp-for="Email"  placeholder="Email" class="bg-body-secondary rounded text-center"/>
                <br/><span asp-validation-for="Email" class="text-danger"></span>
            </div>
            
            <div class="my-3">
                <input asp-for="PhoneNumber" placeholder="Номер телефона" class="bg-body-secondary rounded text-center "/>
                <br/><span asp-validation-for="PhoneNumber" class="text-danger"></span>
            </div>
            <div class="my-3">
                <input asp-for="WhatsAppNumber" placeholder="Номер WhatsApp" class="bg-body-secondary rounded text-center "/>
                <br/><span asp-validation-for="WhatsAppNumber" class="text-danger"></span>
            </div>
        
            <div class="my-3">
                <label>Загрузите картинку аватара</label><br>
                <input asp-for="Photo" type="file" class="bg-body-secondary rounded-end text-center"/>
                <br/><span asp-validation-for="Photo" class="text-danger"></span>
            </div>

            <div class="my-3">
                <label class="mb-1">Выберите роль </label><br/>
                <select asp-for="Role" class="bg-body-secondary rounded text-center py-1 px-4" asp-items="Html.GetEnumSelectList<UserRole>()">
                </select>
                <br/><span asp-validation-for="Role" class="text-danger"></span>
            </div>
            
            <div class="my-2">
                <input asp-for="Password"  placeholder="Пароль" class="bg-body-secondary rounded text-center" id="password"/>
                <button type="button" class="btn btn-light " id="eye-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" fill="currentColor" class="bi bi-eye-fill" viewBox="0 0 16 16">
                        <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"/>
                        <path d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7"/>
                    </svg>
                </button>
                <br/><span asp-validation-for="Password" class="text-danger"></span>
            </div>
            
            <div class="my-2">
                <input asp-for="PasswordConfirm"  placeholder="Подтвердите пароль" class="bg-body-secondary rounded text-center" id="repeat" />
                <button type="button"  class="btn btn-light" id="repeat-eye">
                    <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" fill="currentColor" class="bi bi-eye-fill" viewBox="0 0 16 16">
                        <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"/>
                        <path d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7"/>
                    </svg>
                </button>
                <br/><span asp-validation-for="PasswordConfirm" class="text-danger"></span>
            </div>

            <div class="my-2">
                <input type="submit" value="Сохранить"  class="bg-primary rounded text-white text-center"/>
            </div>
        </form>
    </div>
</div>

@section Scripts
{
    <script>
        $(document).ready(function (){
            $('#eye-btn').click(function (e){
                e.preventDefault();
                let password = $('#password');

                if (password.attr("type") === "password") {
                    password.attr("type", "text");
                }
                else {
                    password.attr("type", "password");
                }
            });

            $('#repeat-eye').click(function (e){
                e.preventDefault();
                let password = $('#repeat');

                if (password.attr("type") === "password") {
                    password.attr("type", "text");
                }
                else {
                    password.attr("type", "password");
                }
            });
        });
    </script>
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
